"use strict";(self.webpackChunkbrick_docs=self.webpackChunkbrick_docs||[]).push([[6080],{86080:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(67294),o=r(43707),i=r(33788),c=r(80224),s=r(2243),u=r(91147),l=r(25150),a=r(7722);function d(e){let{code:t,type:r,className:c,theme:s,onChange:u}=e;const l=(0,n.useRef)(),d=(0,n.useRef)(),f=(0,n.useRef)({width:300,height:(0,a.Z)(t)});return(0,n.useEffect)((()=>{s&&o.editor.setTheme(s)}),[s]),(0,n.useLayoutEffect)((()=>{f.current.width=l.current.getBoundingClientRect().width,d.current?.layout(f.current);const e=new ResizeObserver((e=>{for(const t of e)if(t.target===l.current){const e=t.contentBoxSize?t.contentBoxSize[0].inlineSize:t.contentRect.width;e!==f.current.width&&(f.current.width=e,d.current?.layout(f.current));break}}));return e.observe(l.current),()=>{e.disconnect()}}),[]),(0,n.useEffect)((()=>{if(d.current)return;const e=o.editor.createModel(t,r??"yaml");d.current=o.editor.create(l.current,{model:e,minimap:{enabled:!1},scrollBeyondLastLine:!1,tabSize:2,insertSpaces:!0,fontSize:13,lineHeight:i.CZ,scrollbar:{horizontalScrollbarSize:i.sE,verticalScrollbarSize:i.sE,horizontalSliderSize:8,verticalSliderSize:8,alwaysConsumeMouseWheel:!1},padding:{top:i.z5},overviewRulerBorder:!1,mouseWheelScrollSensitivity:.5,renderLineHighlight:"none"}),d.current.onKeyDown((e=>{if(e.equals(o.KeyMod.CtrlCmd|o.KeyCode.KeyK)){const t=new KeyboardEvent("keydown",{ctrlKey:e.ctrlKey,metaKey:e.metaKey,key:"k"});document.dispatchEvent(t)}})),d.current.onDidContentSizeChange((e=>{if(e.contentHeightChanged){const t=h(e.contentHeight);t!==f.current.height&&(f.current.height=t,d.current.layout(f.current))}})),f.current.height=h(d.current.getContentHeight()),d.current.layout(f.current)}),[t,r]),(0,n.useEffect)((()=>{const e=d.current.getModel(),t=e.onDidChangeContent((()=>{u?.(e.getValue())}));return()=>{t.dispose()}}),[u]),(0,n.useEffect)((()=>()=>{d.current.getModel().dispose(),d.current.dispose()}),[]),n.createElement("div",{ref:l,className:c})}function h(e){let t=e;return(e-i.z5)%i.CZ==0&&(t=e+i.sE),Math.max(t,i.lV)}(0,c.z2)(),(0,s.z2)(),(0,u.z2)(),(0,l.z2)(),o.languages.typescript.javascriptDefaults.setCompilerOptions({allowNonTsExtensions:!0,lib:[]}),o.languages.typescript.typescriptDefaults.setCompilerOptions({allowNonTsExtensions:!0,lib:[]})}}]);